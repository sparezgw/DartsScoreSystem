$(function(){function c(){var b=$("#sum").text(),c=$("#tips").text(),d=$(".list").eq(a),e=d.find("tbody"),f=d.find("h1"),g=d.find(".button"),h=f.text(),i=e.children("tr").size()+1;0>h-b?(e.append("<tr><td>"+i+"</td><td>"+c+'</td><td><span class="red">'+b+"</span></td></tr>"),"none"==g.css("display")&&g.css("display","inline-block")):(f.text(h-b),e.append("<tr><td>"+i+"</td><td>"+c+"</td><td>"+b+"</td></tr>"),"none"==g.css("display")&&g.css("display","inline-block")),dialog.dialog("close")}function d(){$("#sum").text("0"),$("#tips").text("-"),b=0}var a=0,b=0;dialog=$("#score").dialog({autoOpen:!1,height:410,width:350,modal:!0,buttons:{OK:c,Reset:function(){d()}},close:function(){d()}}),cn=$("#name").dialog({autoOpen:!1,height:240,width:300,modal:!0,buttons:{OK:function(){$(this).find("input").each(function(a,b){$(".list").eq(a).find("h3").text($(b).val())}),$(this).dialog("close")},Close:function(){$(this).dialog("close")}}}),ct=$("#total").dialog({autoOpen:!1,height:150,width:300,modal:!0,buttons:{OK:function(){$(".list").find("h1").text($(this).find("input").val()),$(this).dialog("close")},Close:function(){$(this).dialog("close")}}}),$("h3").on("click",function(){a=$(this).data("id"),dialog.dialog("open")}),$("#radio").buttonset(),$("input[type='button']").button().click(function(a){a.preventDefault();var c=$(":checked").val(),d=$(this).val(),e=1==c?d:d+"*"+c,f=$("#tips").text();b+=c*d,$("#sum").text(b),$("#tips").text("-"==f?e:f+" - "+e)}),$(".button").button().on("click",function(a){a.preventDefault();var b=$(this).prev().find("tbody").children("tr"),c=b.last(),d=c.children("td").last().text(),e=$(this).parent().find("h1"),f=e.text();c.remove(),e.text(1*f+1*d),1==b.size()&&$(this).css("display","none")}),$("h1 span").on("click",function(a){a.preventDefault(),cn.dialog("open")}),$(".list:last h1").on("click",function(a){a.preventDefault(),ct.dialog("open")})});